apiVersion: helm.toolkit.fluxcd.io/v2beta1
kind: HelmRelease
metadata:
  name: kaamebott-discord
  namespace: default
spec:
  interval: 120m
  chart:
    spec:
      chart: job
      version: "0.0.16"
      sourceRef:
        kind: HelmRepository
        name: vibioh
      interval: 120m
  install:
    skipCRDs: true
  maxHistory: 3
  upgrade:
    remediation:
      retries: 3
  rollback:
    cleanupOnFail: true
  values:
    nameOverride: kaamebott-discord
    extraLabels:
      k8s-cleaner: "true"
    image:
      name: vibioh/discord_configure
      tag: "latest"
    config:
      DISCORD_APPLICATION_ID: "882376778943971349"
      DISCORD_PUBLIC_KEY: d3acdcf3d7dc08c1d32714b3a51b0db4e40041059e075b274d94326011c20a31
      DISCORD_LOGGER_JSON: "true"
      DISCORD_COMMANDS: |
        {
          "kaamelott": {
            "name": "kaamelott",
            "description": "Une citation de la cour du roi Arthur",
            "options": [
              {
                "name": "recherche",
                "description": "Un mot clé pour affiner la recherche",
                "type": 3,
                "required": true
              }
            ]
          },
          "kaamelottgif": {
            "name": "kaamelottgif",
            "description": "Une vidéo de la cour du roi Arthur",
            "options": [
              {
                "name": "recherche",
                "description": "Un mot clé pour affiner la recherche",
                "type": 3,
                "required": true
              }
            ]
          },
          "oss117": {
            "name": "oss117",
            "description": "Une citation des films OSS117",
            "options": [
              {
                "name": "recherche",
                "description": "Un mot clé pour affiner la recherche",
                "type": 3,
                "required": true
              }
            ]
          },
          "office": {
            "name": "office",
            "description": "A citation from The Office",
            "options": [
              {
                "name": "recherche",
                "description": "A keyword to refine search",
                "type": 3,
                "required": true
              }
            ]
          },
          "citation": {
            "name": "citation",
            "description": "Une citation de film en français",
            "options": [
              {
                "name": "recherche",
                "description": "Un mot clé pour affiner la recherche",
                "type": 3,
                "required": true
              }
            ]
          }
        }
    secrets:
      DISCORD_CLIENT_ID: AgAzm06m2joc7xQVc0+6r2rxUo73RJbrtrmJs/MrS1jjjTnhhdL5YzmbvAYf6+Vy5L8wxnJ0wNrgZVTWOf+FuWdu/LVPkRc/qSaT1jMRhkj8N22/4V6lDdf3DCSJ4wbB63IL/Y/ZpVb8WE279A+wz4A+1xtN3IHLHe1Wd2Y4f3TaKvZJbngBmo8sq3Yzhu6CNlM67/Omim8RbktmnbOMcsl+7YJGOdjFeLiYBjahH5M/V4/I4a4QlaPc6zYGZDw7IoWQJ13L2poJU3kaEjhNMx+M3FfLAA532gOTvan6BSsIrQttsg/SqJ/Tin+5XI7ZgIWjlDThNoLIoaoRSP9cfyOE+mMRvn1BlA/fff8NrWX8mw1S162/H/jp/ALxjRbJ2wHl5jADFBsSJjGfhLNal528weQvBstKROA6Gn6LaO9jF6gYV+LpESafGkDgVXZIxKtXuCqr3MxLrk3fLk+jEf6Ee5aokFE8toMhqNmVppmpzLSArVscpXAnfo7DWdiAvsJFwL44GBAaJr8Cjvc0AebTx9mvtP/ztRSkfOVgKfkA70UwgC8pEHNG1qVmnUxbheh18+xCZQmi/v+huHaFvHmWRj7RvfPiNAwUMwW4IyetHQbp6ghtwU/LqQfzImTIM05sDlE/Adr9M+yya2vp3vIvsnTN6uq0z3rNFhtCGRGTzj3LbcC59KYgGetqAwTM4UP/WNP+6odLfyhhV1EaHLkoSJk=
      DISCORD_CLIENT_SECRET: AgBgY4NtOqAdNS8+/ROdRZOeYarUo2oBFFXWvzEq0zdEb7Rkkij7WwKPQgJ8qvfTX4i9MRFHJcrpI7duA5c0HfXr2EptpmRVA0SoRarN17iKf5wfxcTq/lfuogoj3KKEB0teXqUMsRpm6BR97j9EHq3oIaiyIW7ZyXaqPjOAmtk8ul9gZ4zfoopLMlF8xSDAdeKIxefiA2daBpxQTfqBXz6KW/qK+pMItb4jjybvnPQjMZVOkTQ9PSABH2Mi5J+m4esKDbJNDcYEyfQcHVaX7qYZJHf800KIuIYS3If7TGSPUDGUOb5s8Tqg1BfWLbotm5RJzO0bk06nEIzP4Xg1S3WY7qvyfCENH2h+G96uZmTGaV1mEflBFUH9DmipCIBhnFMq+cDJ7IPC8x1B3XYTjVX2aSanlIh2Vq68C7JM6I/MVR6OSOzN8MAQMqZBf1YpSfjiKUP9qKGGj3ly3kCD1TVI+HkfZLkbpvfOWzqQCX1V2eYK8U5Ku7zftFM72M4/SMyKjuRH/BEPjsvWnY+ClcQv7rmrzyoUvgKx0wI6W0HbC2G+W3Qr1qPWkffZ/2daZ9Ku+HPBLnK4oa3DEMTdf7fvqM2WUNyd9nS3q3P2edwfayfmOYNTtOb97TzvwfSuSHeYUsRZpSj5seCLuGMJQGS78DI1qqTvxSnJ0WsBGMj9puDSlBxM0cpdspRlHB/3IazlM/m2aKBPG4bruPHGPwCa3HZO10lTlYEXHRAmAxbKHQ==
